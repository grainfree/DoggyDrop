@using DoggyDrop.ViewModels
@model UserProfileViewModel


<div class="container d-flex align-items-center justify-content-center min-vh-100 bg-light">
    <div class="card shadow-lg p-4 rounded-4" style="max-width: 500px; width: 100%;">
        <div class="text-center mb-4">
            <img src="@Model.ProfileImageUrl" alt="Profilna slika"
                 class="rounded-circle mb-2" style="width: 80px; height: 80px; object-fit: cover;" />
            <h3 class="text-success">@Model.Email</h3>
            <p class="text-muted small mb-1">Skupno dodanih košev: <strong>@Model.TotalBins</strong></p>
            <p class="text-muted small">Značke: @string.Join(", ", Model.Badges)</p>
        </div>

        <hr />

        <form asp-action="UpdateProfile" method="post" enctype="multipart/form-data">
            <div asp-validation-summary="ModelOnly" class="text-danger small mb-3"></div>

            <div class="mb-3">
                <label class="form-label">Telefonska številka</label>
                <input name="PhoneNumber" class="form-control rounded-3" value="@Model.PhoneNumber" />
            </div>

            <div class="mb-3">
                <label class="form-label">Nova profilna slika</label>
                <input type="file" name="ProfileImage" class="form-control rounded-3" />
            </div>

            <button type="submit" class="btn btn-success w-100 rounded-pill fw-semibold">
                Shrani spremembe
            </button>
        </form>

        <div class="text-center mt-4">
            <a asp-action="ChangePassword" class="text-decoration-none text-warning d-block mb-2">Spremeni geslo</a>
            <a asp-action="InviteFriend" class="text-decoration-none text-primary">Povabi prijatelja 🐶</a>
        </div>
    </div>
</div>
